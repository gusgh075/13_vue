<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>05_condition</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
  <!--
    * v-show 디렉티브
      - css의 display 속성을 컨트롤하여 요소를 보이거나 숨기는 디렉티브
          (숨기다 == 요소는 존재 O, 보이지 않음)

    * v-if, v-else-if, v-else 디렉티브
      - 조건을 만족하는 경우에만 DOM 요소를 생성
        조건을 만족하지 못하면 DOM 요소를 제거
        (요소를 생성/제거 == 코드상으로 추가 되었다가 삭제되는 모습)

    * template 태그
      - 가상 DOM에서는 태그 역할을 하지만, 실제 DOM으로 해석될 때는 사라지는 태그
      - 용도 : 임시로 범위를 지정할 때
  -->
  <id id="step1">
    <button @click="changeState">문자열 보이기/숨기기 토글</button>
    <h1 v-show="state">state의 값이 true일 때 보이는 문자열</h1>
  </id>

  <hr>

  <div id="step2">
    <div v-if="isTrue">참인 경우 보여지는 영역</div>
    <button @click="()=>{isTrue = !isTrue}">isTrue값 변환</button>

    <!-- truthy면 렌더링 된다-->
    <div v-if="truthy">{{truthy}}</div>
    <!-- falsy면 렌더링 안된다-->
    <div v-if="falsy">{{falsy}}</div>
  </div>

  <hr>

  <div id="step3">
    <button @click="setToggle" v-text="str">str값이 들어옵니다~</button>

    <h1 v-if="str === 'awesome'">Vue is Awesome!</h1>
    <h1 v-else-if="str === 'good'">Vue is soso.</h1>
    <h1 v-else>Vue is .....</h1>
  </div>

  <hr>

  <div id="step4">
    <h1 v-if="isTrue">h1태그에 v-if</h1>
    <template v-if="isTrue">template 태그에 v-if</template>
  </div>

  <script>
    const {createApp, ref} = Vue;

    createApp({
      name: "v-show test app",
      setup() {
        const state = ref(false);
        const changeState = () => state.value = !state.value;

        return {state, changeState};
      }
    }).mount('#step1');
    /*============================================================================*/
    createApp({
      name: "v-if test app",
      setup() {
        const isTrue = ref(false);
        const truthy = ref('truthy'); // 내용이 존재하는 문자열 == 참으로 판정
        const falsy = ref(''); // 내용이 없는 문자열 == 거짓으로 판정

        return {isTrue, truthy, falsy};
      }
    }).mount('#step2');
    /*============================================================================*/
    createApp({
      name: "v-if/else-if/else test app",
      setup() {
        const options = ['awesome', 'good', 'not good'];
        const str = ref(options[0]);

        let count = 0;

        const setToggle = () => {
          const optionIndex = ++count % options.length;
          str.value = options[optionIndex];
        }
        return {options, str, setToggle};
      }
    }).mount('#step3');
    /*============================================================================*/
    createApp({
      setup() {
        const isTrue = ref(true);
        return {
          isTrue
        }
      }
    }).mount("#step4");
  </script>
</body>
</html>